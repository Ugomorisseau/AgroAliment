<div class="navbar-container">
  <app-navbar></app-navbar>
</div>


<div
  style="width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center">
  <div style="">
    <div style="margin-bottom: 2em; display: flex; justify-content: center">
      <p-autoComplete [(ngModel)]="searchValue"
                      (input)="onInput($event)" placeholder="Rechercher"></p-autoComplete>
    </div>

    <div>

      <p-table class="p-table-style" [value]="users" selectionMode="single" [paginator]="true" [rows]="5"
               [tableStyle]="{ 'width': '100%', 'height': '100%' }">
        <ng-template pTemplate="header">
          <tr style="text-align: center">
            <th>Prenom</th>
            <th>Nom</th>
            <th>Téléphone Fixe</th>
            <th>Téléphone Portable</th>
            <th *ngIf="isAdmin()" style="display: flex; justify-content: center; align-items: center">Actions</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-user>
          <tr>
            <td>{{ user.prenom }}</td>
            <td>{{ user.nom }}</td>
            <td>{{ user.phoneFix }}</td>
            <td>{{ user.phone }}</td>
            <td *ngIf="currentUser">
              <div class="btn-container">
                <button [routerLink]="['/editUser/' + user.id]" *ngIf="isAdmin()"
                        class="customise-btn"
                        type="button" pButton pRipple icon="pi pi-pencil"></button>
                <button style="background-color: red; border: red" (click)="onDeleteUser(user.id)" *ngIf="isAdmin()"
                        class="customise-btn"
                        type="button" pButton pRipple icon="pi pi-trash"></button>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>

